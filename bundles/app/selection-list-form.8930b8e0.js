"use strict";(self.webpackChunksijui_website=self.webpackChunksijui_website||[]).push([[97],{62075:function(t,i,e){e(69826),e(41539),e(73210);var n=e(19755),a=e.n(n),s={piwikTrackSubmitEvent:function(t){return!a()(t).data("data-submit")&&(a()(t).data("data-submit",1),"undefined"!=typeof _paq&&_paq.push(["trackEvent","Forms","Forms: submit","Forms: submit: "+s.piwikGetFormName(t)]),!0)},piwikGetFormName:function(t){var i=a()(t).attr("name");return i||(i=a()(t).find(".form-name").val())||(i=a()(t).attr("action")),i},trackInput:function(t,i){t.find(".track-input").on("change",(function(){var t=a()(this),e=t.val().trim(),n="select"===t.prop("tagName").toLowerCase()?"chosen":"entered";if(e.length){e=e.substring(0,4096);var s=t.attr("data-name");s||(s=t.attr("id")||t.attr("name")),_paq.push(["trackEvent","Forms",i+": "+n,i+": "+n+": "+s+': "'+e+'"'])}}))},trackOpen:function(){"undefined"!=typeof _paq&&_paq.push(["trackEvent","Forms","Forms: popup","Forms: popup: opened"])},trackPiwikCustom:function(t,i,e){"undefined"!=typeof _paq&&_paq.push(["trackEvent",t,t+": "+i,t+": "+i+": "+e])},delayedClick:function(t){setTimeout((function(){location.href=t}),600)}};i.Z={piwikTrackSubmitEvent:s.piwikTrackSubmitEvent,trackInput:s.trackInput,trackOpen:s.trackOpen,trackPiwikCustom:s.trackPiwikCustom,delayedClick:s.delayedClick}},59102:function(t,i,e){e.d(i,{Z:function(){return s}});e(74916),e(15306);var n=e(19755),a=e.n(n);function s(t){var i=t,e=a()("<div></div>"),n=null;i.addClass("txtstuff"),e.addClass("txta"),e.hide(),i.on("input",(function(){var t,i;a()(this).after(e),a()(this).css({resize:"none",overflow:"hidden"}),t=a()(this).val(),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},n=(n=t.replace(/[&<>"']/g,(function(t){return i[t]}))).replace(/\n/g,"<br>"),e.html(n+'<br style="line-height: 3px;">'),e.css("visibility","hidden"),e.show(),this.style.height=e[0].offsetHeight+"px",e.css("visibility","visible"),e.hide()}))}},30925:function(t,i,e){e.d(i,{Z:function(){return o}});e(69826),e(41539);var n=e(19755),a=e.n(n),s=e(59102);function o(){a()(".md-field.textarea").each((function(t,i){var e,n,o=a()(i);o.hasClass("ignore")||((n=(e=o).find("textarea")).on("input",(function(t){e.addClass("focused")})),n.on("focus",(function(t){n.hasClass("valid")||n.hasClass("hasError")?e.addClass("focused"):e.removeClass("focused")}))),(0,s.Z)(o.find("textarea"))}))}},47681:function(t,i,e){e(69826),e(41539),e(74916),e(15306);var n=e(19755),a=e.n(n),s=e(15046),o=e(16943),c=e(62075),r=e(32661),l=e(24812),d=e(30925);e(21249),e(2707),e(54747),e(68309);function u(){var t=a()(".selection-lists-editable-wrapper"),i=a()(".js-selection-lists-config"),e=a()(".selection-lists-wrapper"),n=a()(".edit-selection-lists-btn"),s=a()(".save-selection-lists-btn"),o=a()(".add-more-btn"),c=e.data("lists"),r=e.data("lists-config"),l=o.data("list");function d(){e.find(".js-selection-list").off().on("change",(function(t){var n=a()(t.currentTarget);n.children("option").each((function(t,i){var e=k(n.data("id"),a()(i).data("id"));e.selected=+a()(i).is(":selected"),function(t,i,e){i="option_"+i,r[t="select_"+t]||(r[t]={});r[t][i]=e}(n.data("id"),a()(i).data("id"),e)})),editmode&&i.html(JSON.stringify(r));var s=n.closest("tr"),o=h(s.data("list"),!0),c=e.scrollLeft();s.replaceWith(o),d(),e.scrollLeft(c)})),e.find(".js-remove-list").off().on("click",(function(t){var i=a()(t.currentTarget).closest("tr");i.hide(250,(function(){i.remove(),f()}))})),f()}function u(){var t=e.find("table");e.css("width","10000px"),t.css("min-width","auto"),t.css("min-width",t.width()+"px"),e.css("width","auto")}function f(){u(),e.find(".js-selection-list").each((function(t,i){var n=+e.find("tr").index(a()(i).closest("tr"));a()(i).attr("name","list["+n+"][]")}))}function p(t){var i=m(t,"_"),n='<table class="selection-lists-table">';i.forEach((function(t){n+=h(t,!0)})),n+="</table>",e.html(n),d()}function h(t,i){var e=v(t,i),n="";e.forEach((function(e,a,s){var o=a===s.length-1;n+="<td>",n+=function(t,i){var e='<select name="" class="selection-list js-selection-list" data-id="'+t.id+'">';return t.options.forEach((function(n){var a=n.name?n.name:"-",s='data-id="'+n.id+'" value="'+a+'"';i&&k(t.id,n.id).selected&&(s+=" selected"),e+="<option "+s+">"+a+"</option>"})),e+="</select>"}(e,i),o&&!editmode&&t.deletable&&(n+='<span class="close-icon js-remove-list"></span>'),n+="</td>"}));var s=a()("<tr>").html(n).attr("data-list",JSON.stringify(t));return a()("<div>").html(s).html()}function m(t,i){var e=[];function n(t){e[t.id]=e[t.id]?++e[t.id]:1,e[t.id]>1&&(t.id=t.id+i+e[t.id]),t.selects&&t.selects.forEach((function(t){n(t)}))}return t.forEach((function(t){n(t)})),t}function v(t,i){var e=[];if(!t.selects)return e;for(;t;){var n={id:t.id,options:[]},a=null;t.selects.forEach((function(t,s){((0===s||i&&k(n.id,t.id).selected)&&(a=t),t.name&&n.options.push(t),t.selects&&!t.name)&&v(t,i).forEach((function(t){e.push(t)}))})),n.options.length&&e.push(n),t=a.selects&&a.name?a:null}return e}function k(t,i){return i="option_"+i,r[t="select_"+t]||(r[t]={}),r[t][i]||(r[t][i]={}),r[t][i]}!function(){var t=a()(".js-prefilling-referral-description"),i=a()(".sl-form-textarea-wrapper"),e=a()("#sl_form_text");i.data("prefilling-text")&&e.val(i.data("prefilling-text"));editmode&&e.on("change",(function(){t.html(e.val())}))}(),c.length?(p(c),t.hide(),s.hide()):(e.hide(),n.hide()),o.on("click",(function(){c.push(l),m(c,"__"),e.find("table").append(h(l,!1)),d()})),n.on("click",(function(){e.hide(),t.show(),n.hide(),s.show()})),s.on("click",(function(){s.prop("disabled",!0);var i=t.find(".x-grid-cell-first").map((function(t,i){return+a()(i).text()})).get();a().ajax({url:"/object/list",type:"GET",data:{ids:i},success:function(a){s.prop("disabled",!1),a.data.sort((function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)})),p(a.data),t.hide(),e.show(),s.hide(),n.show()}})})),a()(window).resize((function(){u()}))}a()(document).ready((function(){u();var t=a()("#selection_list_form");if(!editmode){var i=t.find("#contact-popup-upload");(0,d.Z)(),c.Z.trackInput(t,"Forms"),r.Z.trackFileUpload(),l.Z.oneSymbolValidation(t,!0),(0,o.Z)({form:"#selection_list_form",url:t.attr("action")+"?is_submitted=1",method:"POST",uploadField:new s.Z(i[0],{isRequired:!1,maxFilesSize:20,maxFilesCount:5}),successCallback:function(i){i.fileUploaded&&r.Z.trackFileSubmit(),window.location.replace(t.data("thank-you-page"))},errorCallback:function(t){console.log(t.responseJSON)},beforeSend:function(){null!==c.Z&&c.Z.piwikTrackSubmitEvent(this),r.Z.gaTrackSubmit(this,"Selection List Form")}})}}))}},function(t){t.O(0,[9755,6055,1022,5306,6813,3587,8289,5955,9323,4812,5046],(function(){return i=47681,t(t.s=i);var i}));t.O()}]);